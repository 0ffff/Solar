问题:
以前的数据中心针对单项目,数据上传和存储运行正常.现在,数据中心面向多项目同时运行,数据中心实时接收并存储来自各个项目的数据.出现数据存储混乱,1项目数据插入到2项目数据库中的情况

原因:
1.因为多项目多线程访问数据库,属于访问公共资源.需要将保证数据库同一时间只有一个项目访问,且必须等到该项目线程访问完毕后,才释放数据库访问资源.确保,数据库访问的一致性.

2.访问数据库函数,访问结束后需要释放链接数据库和操作数据库的资源.确保下一个项目访问数据库时使用的是自己的数据库资源.

解决方案:
1.添加数据库访问统一锁,确保同一时间只有一个项目和一个方法在访问数据库

2.在每个访问数据库函数的结尾,均释放数据库资源.保证数据库访问线索干净


进度:已完成
